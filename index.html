<!doctype html>
<html>
    <head>
        <title> 3dge.js Test </title>
        <script src="3dge.js"> </script>
        <script src="ckp.js">  </script>
        <script>
        keyboardeventKeyPolyfill.polyfill(); //polyfill is from https://github.com/cvan/keyboardevent-key-polyfill
        </script>
    </head>
    <body>  
        <canvas id="myCanvas" width="500" height="500"></canvas>
        <div id="log"></div>
        <script>
            var myWorld = new edge.World(100);
            var log = document.getElementById("log");
            var cam = {
                x: 0,
                y: 0,
                z: 0
            };
            var myCamera = new edge.Camera(cam.x,cam.y,700,[0,0,0],Math.PI / 2, Math.PI / 2 ,100);
            var Cube = new myWorld.Presets.create("Cube", [5,0,15],3,[0,0]);
            var Cube2 = new myWorld.Presets.create("Cube", [5,0,20],7,[0,0]);
            var myCanvas = document.getElementById("myCanvas");
            var ctx = myCanvas.getContext("2d");
            console.log(myWorld.objectArray);
            console.log(Cube);
            myWorld.addObject(Cube);
            myWorld.addObject(Cube2);
            myCamera.render(myWorld, myCanvas, ctx);
            document.addEventListener("keypress", function(e){
                console.log("This key is", e.key);
                if(e.key == "d"){
                    cam.x += 1;
                }else if(e.key == "a"){
                    cam.x -= 1;
                }else if(e.key == "w"){
                    cam.z += 1;
                }else if(e.key == "s"){
                    cam.z -= 1;
                }else if(e.key = "Shift"){
                    cam.y -= 1;
                }else if(e.key = " "){
                    cam.y += 1;
                }
                myCamera.moveTo(cam.x,cam.y,cam.z);
                myCamera.render(myWorld, myCanvas, ctx);
                log.innerHTML = ""+cam.x+','+cam.y+","+cam.z;
            }, true);
        </script>
</html>